---
title: 计算级数
categories:
  - 数学
  - 分析
  - 级数
abbrlink: 42963
mathjax: true
date: 2021-09-28 19:38:01
---

计算
$$
\sum_{n=1}^\infty
{n!\over(2n+1)!!}\cdot{1\over n+1}.
$$

<!--more-->

---

## 方法一：$\arcsin^2x$的展开

把双阶乘改写成阶乘。定义
$$
\begin{align*}
a_n&={n!\over(2n+1)!!}\cdot{1\over n+1}\\
&={n!\over 1\cdot3\cdot5\cdots(2n+1)}\cdot{1\over n+1}\\
&={2\cdot4\cdots(2n+2)\cdot n!\over1\cdot2\cdot3\cdots(2n+1)\cdot(2n+2)}\cdot{1\over n+1}\\
&={2^{n+1}(n+1)!\cdot n!\over(2n+2)!}\cdot{1\over n+1}\\
&={2^{n+1}(n!)^2\over(2n+2)!}\\
&={2^{n+1}(n!)^2\over(2n+2)(2n+1)(2n)!}\\
&={2^n(n!)^2\over(n+1)(2n+1)(2n)!}\\
&={2^n\over(n+1)(2n+1){(2n)!\over(n!)^2}}\\
&={2^n\over(n+1)(2n+1){2n\choose n}}
\end{align*}
$$
求和的时候移动一下下标，把分母的$n+1$变成$n$：
$$
\begin{align*}
\sum_{n=1}^\infty a_n&=\sum_{n=1}^\infty {2^n\over(n+1)(2n+1){2n\choose n}}\\
&=\sum_{n=2}^\infty{2^{n-1}\over n(2n-1){2n-2\choose n-1}}\\
&=\sum_{n=2}^\infty{2^{n}\over 2n(2n-1){(2n-2)!\over\left((n-1)!\right)^2}}\\
&=\sum_{n=2}^\infty{2^n\over{(2n)!\over\left((n-1)!\right)^2}}\\
&=\sum_{n=2}^\infty{2^n\over n^2{(2n)!\over (n!)^2}}\\
&=\sum_{n=2}^\infty{2^n\over n^2{2n\choose n}}
\end{align*}
$$
热知识：$\arcsin^2 x$的展开式满足
$$
2\arcsin^2\left(\frac x2\right)=\sum_{n=1}^\infty{x^{2n}\over n^2{2n\choose n}}.
$$
它的证明比较占篇幅，我写在{% post_link arcsin-2 这里%}.

其中令$x=\sqrt2$：
$$
2\arcsin^2\left(\frac{\sqrt2}{2}\right)=\sum_{n=1}^\infty{2^n\over n^2{2n\choose n}}=2\left(\frac{\pi}{4}\right)^2={\pi^2\over8}.
$$
于是
$$
\sum_{n=1}^\infty a_n=\sum_{n=2}^\infty{2^n\over n^2{2n\choose n}}={\pi^2\over8}-1.
$$

---

## 方法二：累次积分

记
$$
a_n={n!\over(2n+1)!!}\cdot{1\over n+1}，
$$
把两个因子都表示成积分：
$$
{1\over n+1}=\int_0^1x^n\,\mathrm dx
$$

$$
\begin{align*}
{n!\over(2n+1)!!}&={n!\over 1\cdot3\cdot5\cdots(2n+1)}\\
&={2\cdot4\cdots(2n)\cdot n!\over1\cdot2\cdot3\cdots(2n)\cdot(2n+1)}\\
&={2^n(n!)^2\over(2n+1)!}\\
&={2^n(\Gamma(n+1))^2\over\Gamma(2n+2)}\\
&=2^n\cdot\mathrm B(n+1,n+1)\\
&=2^n\int_0^1y^n(1-y)^n\,\mathrm dy\\
&=\int_0^1(2y(1-y))^n\,\mathrm dy
\end{align*}
$$

其中后者我们利用了$\Gamma(n+1)=n!$，以及$\mathrm B(x,y)={\Gamma(x)\Gamma(y)\over\Gamma(x+y)}$.

于是（从$0$开始加使得级数结果更加简单），
$$
\begin{align*}
\sum_{n=0}^\infty a_n&=\sum_{n=0}^\infty\left(\int_0^1x^n\,\mathrm dx\right)\left(\int_0^1(2y(1-y))^n\,\mathrm dy\right)\\
&=\int_0^1\int_0^1\sum_{n=0}^\infty(2xy(1-y))^n\,\mathrm dx\,\mathrm dy\\
&=\int_0^1\int_0^1{1\over1-2xy(1-y)}\,\mathrm dx\,\mathrm dy.
\end{align*}
$$
做代换$y={1+u\over2}$，使得$y(1-y)={1+u\over2}\cdot{1-u\over2}={1-u^2\over4}.$

于是，
$$
\begin{align*}
\int_0^1\int_0^1{1\over1-2xy(1-y)}\,\mathrm dx\,\mathrm dy&=\int_0^1\left(\frac12\int_{-1}^1{1\over1-x\cdot{1-u^2\over2}}\,\mathrm du\right)\,\mathrm dx\\
&=\int_0^1\left(\int_{-1}^1{1\over2-x(1-u^2)}\,\mathrm du\right)\,\mathrm dx\\
&=\int_0^1\left(\int_{-1}^1{1\over2-x+xu^2}\,\mathrm du\right)\,\mathrm dx\\
&=\int_0^1\left(\frac1x\int_{-1}^1{1\over u^2+{2-x\over x}}\,\mathrm du\right)\,\mathrm dx\\
&=\int_0^1\left(\left.\frac1x\sqrt{x\over2-x}\arctan{u\over\sqrt{2-x\over x}}\right|_{u=-1}^{u=1}\right)\,\mathrm dx\\
&=\int_0^1\left(\frac2x\sqrt{x\over2-x}\arctan{1\over\sqrt{2-x\over x}}\right)\,\mathrm dx\\
&=\int_0^1\left({2\over \sqrt{x(2-x)}}\arctan{\sqrt{x\over 2-x}}\right)\,\mathrm dx.
\end{align*}
$$
做代换$x=1-t$，使得$x(2-x)=(1-t)(1+t)=1-t^2$.

于是，
$$
\begin{align*}
\text{原积分}=\int_0^1{2\over\sqrt{1-t^2}}\arctan\sqrt{1-t\over1+t}\,\mathrm dt
\end{align*}
$$
做代换$t=\cos\theta$，利用半角公式$\tan\frac\theta2=\sqrt{1-\cos\theta\over1+\cos\theta}$：
$$
\begin{align*}
\text{原积分}&=\int_0^\frac\pi2{2\over\sin\theta}\arctan\left(\tan\frac\theta2\right)\sin\theta\,\mathrm d\theta\\
&=\int_0^\frac\pi2\theta\,\mathrm d\theta\\
&={\pi^2\over8}.
\end{align*}
$$
最终，
$$
\sum_{n=1}^\infty a_n=-a_0+\sum_{n=0}^\infty a_n={\pi^2\over8}-1.
$$
