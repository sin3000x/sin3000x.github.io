---
title: 消消乐
categories:
  - 计算机
  - 算法
tags:
  - 栈
  - 字符串
mathjax: true
abbrlink: 34214
date: 2022-09-03 19:48:05
---
重复去重, 比如 abbbaz -> aaz -> z.

<!--more-->

```py
from collections import deque

def remove_duplicate_repeatedly(string):
    # corner case
    if len(string) < 2:
        return string
    # init
    stack = deque()
    i = 0
    # loop
    while i < len(string):
        if len(stack) > 0 and string[i] == stack[-1]:
            # find duplicate: skip
            while i < len(string) and string[i] == stack[-1]:
                i += 1
            stack.pop()
        else:
            stack.append(string[i])
            i += 1
    return ''.join(stack)
```

时间: $O(n)$

时间: $O(n)$

改进: 用慢指针存储栈顶.

```py
def remove_duplicate(string):
    string = list(string)
    if len(string) <= 1:
        return string
    s, f = 0, 1
    while f < len(string):
        if s > 0 and input[f] == input[s]:  # 栈非空
            while f < len(string) and input[f] == input[s]:
                f += 1
            s -= 1  # 出栈
        else:
            string[s + 1] = string[f]  # 入栈
            f += 1
            s += 1
    return "".join(string[:s+1])
```