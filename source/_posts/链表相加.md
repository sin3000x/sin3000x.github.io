---
title: 链表相加
categories:
  - 计算机
  - 算法
mathjax: true
abbrlink: 30822
date: 2022-07-28 12:49:56
---
比如一个链表是 `1 -> 2 -> 3`, 一个是 `2 -> 7`, 结果应该返回 `1 -> 5 -> 0`. 

因为 $123+27=150$.

<!--more-->

有一个加法右对齐的问题, 因为给出两个 head 之后链表是左对齐的. 为了方便起见, 先进行{% post_link 反转链表 %}的操作.

```python
def add_list(head1, head2):
    # 反转两个链表
    head1 = reverse(head1)
    head2 = reverse(head2)
    # dummy head
    fake = ListNode(None)
    cur = fake

    carry = 0 # 存储进位
    # 只要两个链表有一个没到结尾, 就可以继续
    while head1 or head2: 
        tmp = carry # 存储该位置的和, 完整的和是 head1.val + head2.val + carry
        # 分情况讨论, 哪个节点有值就加上哪个节点
        # 如果两个节点都有值就都加, 没有 else 的关系
        if head1:
            tmp += head1.val
            head1 = head1.next
        if head2:
            tmp += head2.val
            head2 = head2.next
        # 下一位应该是临时和的个位
        cur.next = ListNode(tmp % 10)
        # 进位是临时和的十位
        carry = tmp // 10
        cur = cur.next
    # 如果遍历完成之后还有进位, 还要多一位
    if carry > 0:
        cur.next = ListNode(carry)
    return reverse(fake.next)
```